<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>processBar</title>
    <link rel="stylesheet" href="../../public/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="../../public/css/bootstrap.min.css" />
    <script src="../../public/js/react-0.14.0.js"></script>
    <script src="../../public/js/react-dom-0.14.0.js"></script>
    <script src="../../public/js/jquery.js"></script>
    <script src="../../public/js/browser.min.js"></script>
    <script src="../../public/js/signals.js"></script>
    <script src="../../public/js/bootstrap.min.js"></script>
    <style>
        #exm {
            margin: 20px auto;
            height: 100px;
            border: 1px solid #000;
        }
        
        .progress-bar {
            width: 60%;
        }
    </style>
</head>

<body>
    <div id="exm"></div>
    <div id="exm2"></div>
    <script type="text/babel">
    var EventEmitter = {
    _events: {},
    dispatch: function (event, data) {
        if (!this._events[event]) { // 没有监听事件
          return;
        }
        for (var i = 0; i < this._events[event].length; i++) {
            this._events[event][i](data);
        }
    },
    subscribe: function (event, callback) {
      // 创建一个新事件数组
      if (!this._events[event]) {
        this._events[event] = [];
      }
      this._events[event].push(callback);
    }
};

otherObject.subscribe('namechanged', function(data) { alert(data.name); });
this.dispatch('namechanged', { name: 'John' });
      </script>
</body>

</html>